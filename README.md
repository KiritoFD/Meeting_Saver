# Meeting Scene Saver: 基于 MediaPipe 的实时人体姿态估计与卫星通信适配系统

## 项目简介
在正式的视频会议中，你是否曾因杂乱的房间和难以调整的摄像头角度或自己不佳的仪容仪表而烦恼，或是被突然出现的异物打断重要的采访，亦或是因网络质量不佳而导致会议卡顿？更重要的是，在偏远地区或野外工作时，如何保持高质量的视频会议体验？

我们的解决方案是：通过智能压缩和优化，将视频会议简化为必要的动作数据传输，使其能在低带宽环境（如卫星通信）下流畅运行。事实上，视频会议并不需要传输完整的视频流，我们只需要捕捉用户的动作要素。通过预先录入的身体模型和智能压缩算法，系统可以在极低带宽下（2-4Kbps）实现流畅的视觉交互。

## 卫星通信支持

### 带宽适配
- **华为Mate系列卫星通话模式 (2-4Kbps)**
  * 动态帧率：5-15fps，根据动作幅度自适应调整
  * 智能压缩：仅传输关键点数据，支持差分编码
  * 分级传输：面部优先，次要部位降低更新频率
  
- **华为Mate系列卫星数据模式 (4-5Mbps)**
  * 全功能模式：支持完整的动作捕捉
  * 高精度传输：保留所有关键点数据
  * 流畅体验：稳定30fps刷新率

### 自适应优化
- **智能带宽检测**
  * 自动识别网络类型（卫星/地面网络）
  * 动态调整数据压缩率
  * 实时监控带宽使用情况

- **分级传输策略**
  * 低带宽模式（<2.5Kbps）：
    - 仅传输5个关键点
    - 1位小数精度
    - 重点保持面部表情流畅
  * 高带宽模式（>2.5Kbps）：
    - 传输9个以上关键点
    - 2位小数精度
    - 支持更细腻的动作表现

### 应用场景
- 野外考察直播
- 应急通信会议
- 远程医疗咨询
- 海上作业指导
- 极地科考交流

## 快速开始

### 1. 安装依赖
提示：要使用mediapipe,应使用python3.10

         pip install -r requirements.txt
### 2. 运行
          py run.py

程序运行后，打开浏览器访问 `http://127.0.0.1:5000/`。

## 功能

*   **实时人体姿态估计**: 使用 MediaPipe 实时、准确地捕捉人体姿态。
*   **智能异物消除**: 通过模型提取和重建，自动去除背景和干扰人体姿态识别的异物。
*   **背景替换**: 支持上传自定义背景图片，并将处理后的姿态模型渲染到新的背景上。
*   **摄像头/视频流支持**: 支持摄像头实时捕捉和视频文件导入。
*   **用户友好界面**: 提供直观的界面，方便用户操作和查看结果。

## 技术方案

*   **姿态估计**: MediaPipe Pose
*   **数据压缩**: 自适应帧率与差分编码
*   **带宽监控**: 实时带宽检测与调整
*   **图像处理**: OpenCV
*   **3D 模型渲染**: Three.js
*   **后端**: Flask

## 性能指标

| 网络环境 | 带宽使用 | 帧率 | 关键点数量 |
|---------|---------|------|-----------|
| 卫星语音 | 1.5-2Kbps | 5-10fps | 5个 |
| 卫星数据 | 3-4Kbps | 10-15fps | 9个 |
| 地面网络 | >1Mbps | 30fps | 21个 |

## 目录说明

*   `capture.py`: 处理摄像头/视频帧，进行姿态估计。
*   `run.py`: 程序入口文件。
*   `src/`: 源代码目录。
    *   `core/`: 核心业务逻辑。
        *   `__init__.py`: 初始化文件。
        *   `video_processor.py`: 视频处理和姿态估计的核心逻辑。
    *   `server.py`: Flask 应用，处理 HTTP 请求和响应。
    *   `static/`: 前端静态资源 (如果存在)。
    *   `templates/`: HTML 模板。
        *   `display.html`: 前端页面，包含 3D 模型渲染和用户交互逻辑。
    *   `utils/`: 工具函数。
        *   `__init__.py`: 初始化文件。
        *   `logger.py`: 日志配置。
*   `templates/`: HTML 模板。
    *   `display.html`: 前端页面，包含 3D 模型渲染和用户交互逻辑。

## 未来改进

*   支持更多卫星通信设备和协议
*   优化极限带宽下的传输效率
*   增加网络自动切换功能
*   开发移动端应用
*   添加数据加密传输
*   支持群组会议场景

## 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件 (您需要创建 LICENSE 文件并添加 MIT 许可证内容)。